#!/usr/bin/env bash
#
# https://github.com/sandorex/config
# wayout widget for system information, like conky basically

MONITOR="DVI-D-1"

get_cpu_temp() {
    # this is specific to my motherboard
    sensors -j | jq '."k10temp-pci-00c3"."Tctl"."temp1_input"'
}

while :; do
    cpu_temp="$(get_cpu_temp)"
    cat <<EOF
UP:  $(uptime -p) ($(uptime -s))
CPU: ${cpu_temp}C
<BREAK>
EOF
    sleep 3s
done | wayout --feed-delimiter "<BREAK>" \
              --no-wrap \
              --font "Hack Nerd Font 14" \
              --output "$MONITOR" \
              --position "top-left" \
              --width 600 \
              --height 600

